@import url('https://fonts.googleapis.com/css2?family=Mitr:wght@200;300;400;500;600;700&family=Sarabun:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800&family=Prompt:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Noto+Sans+Thai:wght@100;200;300;400;500;600;700;800;900&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Font System */
    --font-family: 'Mitr', 'Noto Sans Thai', sans-serif;
    --font-scale: 1;

    /* Color System - Enhanced for WCAG AA Compliance */
    --background: 0 0% 100%;
    --foreground: 222.2 84% 2%;          /* Enhanced contrast: darker text (was 4.9%) */
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 2%;     /* Enhanced contrast: darker text */
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 2%;  /* Enhanced contrast: darker text */
    --primary: 24 95% 45%;               /* Enhanced contrast: darker orange (was 53%) */
    --primary-foreground: 0 0% 100%;
    --secondary: 210 40% 94%;            /* Slightly darker background (was 96%) */
    --secondary-foreground: 222.2 84% 2%; /* Enhanced contrast: darker text */
    --muted: 210 40% 94%;                /* Slightly darker background */
    --muted-foreground: 215.4 16.3% 35%; /* Enhanced contrast: darker text (was 46.9%) */
    --accent: 24 95% 45%;                /* Enhanced contrast: darker orange */
    --accent-foreground: 0 0% 100%;
    --destructive: 0 84.2% 50%;          /* Enhanced contrast: darker red (was 60.2%) */
    --destructive-foreground: 0 0% 100%;
    --border: 214.3 31.8% 85%;           /* Slightly darker border (was 91.4%) */
    --input: 214.3 31.8% 85%;            /* Slightly darker input background */
    --ring: 222.2 84% 2%;                /* Enhanced contrast: darker ring */
    --radius: 0.5rem;

    /* Success, Warning, Error, Info with muted variants */
    --success: 142.1 76.2% 36.3%;
    --success-foreground: 355.7 100% 97.3%;
    --success-muted: 142.1 30% 85%;
    --success-muted-foreground: 142.1 76.2% 36.3%;
    --warning: 47.9 95.8% 53.1%;
    --warning-foreground: 26 83.3% 14.1%;
    --warning-muted: 47.9 40% 85%;
    --warning-muted-foreground: 47.9 95.8% 53.1%;
    --info: 220.9 39.3% 11%;
    --info-foreground: 220.9 39.3% 90%;
    --info-muted: 220.9 20% 85%;
    --info-muted-foreground: 220.9 39.3% 11%;
    --error: 0 84.2% 60.2%;
    --error-foreground: 210 40% 98%;

    /* 8px Grid System Variables */
    --spacing-1: 0.25rem;  /* 4px */
    --spacing-2: 0.5rem;   /* 8px - base unit */
    --spacing-3: 0.75rem;  /* 12px */
    --spacing-4: 1rem;     /* 16px */
    --spacing-5: 1.25rem;  /* 20px */
    --spacing-6: 1.5rem;   /* 24px */
    --spacing-8: 2rem;     /* 32px */
    --spacing-10: 2.5rem;  /* 40px */
    --spacing-12: 3rem;    /* 48px */
    --spacing-16: 4rem;    /* 64px */
    --spacing-20: 5rem;    /* 80px */
    --spacing-24: 6rem;    /* 96px */

    /* Modern Typography Scale - Enhanced for Better Accessibility */
    --font-size-micro: 0.75rem;       /* 12px - Minimum readable size */
    --font-size-caption: 0.875rem;    /* 14px - Enhanced from 12px */
    --font-size-footnote: 0.9375rem;  /* 15px - Enhanced from 13px */
    --font-size-subhead: 1rem;        /* 16px - Enhanced from 15px */
    --font-size-callout: 1.125rem;    /* 18px - Enhanced from 16px */
    --font-size-body: 1.25rem;        /* 20px - Enhanced from 17px */
    --font-size-headline: 1.375rem;   /* 22px - Enhanced from 18px */
    --font-size-title3: 1.5rem;       /* 24px - Enhanced from 20px */
    --font-size-title2: 1.625rem;     /* 26px - Enhanced from 22px */
    --font-size-title1: 2rem;         /* 32px - Enhanced from 28px */
    --font-size-large-title: 2.5rem;  /* 40px - Enhanced from 34px */

    /* Icon sizes for better visibility */
    --icon-size-xs: 1rem;     /* 16px */
    --icon-size-sm: 1.25rem;  /* 20px - Minimum recommended */
    --icon-size-md: 1.5rem;   /* 24px - Standard */
    --icon-size-lg: 2rem;     /* 32px - Large */
    --icon-size-xl: 2.5rem;   /* 40px - Extra large */

    /* Responsive scaling multipliers */
    --scale-mobile: 1;
    --scale-tablet: 1.1;
    --scale-desktop: 1.2;
    --scale-large: 1.3;

    /* Shadow System */
    --shadow-elevation-low: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-elevation-medium: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-elevation-high: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);

    /* Touch Targets - Modern Standards - Enhanced for Better Accessibility */
    --touch-target-min: 48px;         /* Enhanced minimum for accessibility (was 44px) */
    --touch-target-comfortable: 52px;  /* Enhanced comfortable tapping (was 48px) */
    --touch-target-generous: 60px;     /* Enhanced generous spacing (was 56px) */
    --touch-target-primary: 56px;      /* Enhanced primary actions (was 52px) */
    --touch-target-secondary: 48px;    /* Enhanced secondary actions (was 44px) */

    /* Container Widths */
    --container-xs: 320px;
    --container-sm: 640px;
    --container-md: 768px;
    --container-lg: 1024px;
    --container-xl: 1280px;
    --container-2xl: 1536px;
    --container-3xl: 1920px;
    --container-4xl: 2560px;

    /* Layout Grid System */
    --grid-columns-mobile: 1;
    --grid-columns-tablet: 2;
    --grid-columns-desktop: 3;
    --grid-columns-wide: 4;

    /* Glass Morphism Enhancement */
    --glass-blur: 24px;
    --glass-border: 1px;
    --glass-opacity: 0.1;
    --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);

    /* Modern Animations */
    --animation-fast: 150ms;
    --animation-medium: 250ms;
    --animation-slow: 400ms;
    --animation-easing: cubic-bezier(0.4, 0, 0.2, 1);
    --animation-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .dark {
    --background: 0 0% 3%;               /* Darker background for better contrast */
    --foreground: 0 0% 98%;              /* Maximum contrast: very light text */
    --card: 0 0% 6%;                     /* Darker card background */
    --card-foreground: 0 0% 98%;         /* Maximum contrast: very light text */
    --popover: 0 0% 6%;                  /* Darker popover background */
    --popover-foreground: 0 0% 98%;      /* Maximum contrast: very light text */
    --primary: 24 95% 65%;               /* Bright orange for visibility */
    --primary-foreground: 0 0% 3%;       /* Dark text on orange background */
    --secondary: 0 0% 10%;               /* Darker secondary background */
    --secondary-foreground: 0 0% 98%;    /* Maximum contrast: very light text */
    --muted: 0 0% 10%;                   /* Darker muted background */
    --muted-foreground: 0 0% 85%;        /* Very light muted text for visibility */
    --accent: 24 95% 65%;                /* Bright orange for visibility */
    --accent-foreground: 0 0% 3%;        /* Dark text on accent background */
    --destructive: 0 84.2% 70%;          /* Bright red for visibility */
    --destructive-foreground: 0 0% 3%;   /* Dark text on destructive background */
    --border: 0 0% 25%;                  /* More visible borders */
    --input: 0 0% 8%;                    /* Darker input backgrounds */
    --ring: 24 95% 65%;                  /* Bright ring for visibility */
    --success: 142.1 70.6% 60%;          /* Bright green for visibility */
    --success-foreground: 144.9 80.4% 3%; /* Dark text on success background */
    --success-muted: 142.1 30% 15%;      /* Darker success muted background */
    --success-muted-foreground: 142.1 70.6% 60%;
    --warning: 47.9 95.8% 65%;           /* Bright yellow for visibility */
    --warning-foreground: 26 83.3% 3%;   /* Dark text on warning background */
    --warning-muted: 47.9 40% 15%;       /* Darker warning muted background */
    --warning-muted-foreground: 47.9 95.8% 65%;
    --info: 220.9 39.3% 80%;             /* Bright blue for visibility */
    --info-foreground: 220.9 39.3% 3%;   /* Dark text on info background */
    --info-muted: 220.9 20% 15%;         /* Darker info muted background */
    --info-muted-foreground: 220.9 39.3% 80%;
    --error: 0 84.2% 70%;                /* Bright red for visibility */
    --error-foreground: 0 0% 3%;         /* Dark text on error background */
  }

  * {
    box-sizing: border-box;
  }

  html {
    scroll-behavior: smooth;
    -webkit-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
  }

  body {
    margin: 0;
    padding: 0;
    font-family: var(--font-family);
    font-size: 16px; /* Fixed base size - no scaling at body level */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    font-synthesis: none;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  code {
    font-family: ui-monospace, SFMono-Regular, "SF Mono", Consolas, "Liberation Mono", Menlo, monospace;
  }
}

@layer components {
  /* Responsive Container System */
  .container-responsive {
    @apply w-full mx-auto px-4;
  }

  @screen sm {
    .container-responsive {
      @apply px-6;
    }
  }

  @screen md {
    .container-responsive {
      @apply px-8;
    }
  }

  @screen lg {
    .container-responsive {
      @apply max-w-7xl px-12;
    }
  }

  @screen xl {
    .container-responsive {
      @apply px-16;
    }
  }

  @screen 2xl {
    .container-responsive {
      @apply max-w-8xl px-20;
    }
  }

  /* Touch Target Utilities */
  .touch-target-min {
    min-height: var(--touch-target-min);
    min-width: var(--touch-target-min);
  }

  .touch-target-comfortable {
    min-height: var(--touch-target-comfortable);
    min-width: var(--touch-target-comfortable);
  }

  .touch-target-generous {
    min-height: var(--touch-target-generous);
    min-width: var(--touch-target-generous);
  }

  .touch-target-primary {
    min-height: var(--touch-target-primary);
    min-width: var(--touch-target-primary);
  }

  .touch-target-secondary {
    min-height: var(--touch-target-secondary);
    min-width: var(--touch-target-secondary);
  }

  /* Enhanced Mobile Interactions */
  @media (hover: none) and (pointer: coarse) {
    /* Mobile-specific styles */
    .hover\:scale-\[1\.015\]:hover {
      transform: none;
    }

    .hover\:scale-\[1\.02\]:hover {
      transform: none;
    }

    /* Enhanced tap targets on mobile */
    .btn, .glass-button, [role="button"], button {
      min-height: var(--touch-target-comfortable);
      touch-action: manipulation;
    }

    /* Prevent double-tap zoom on buttons */
    .btn, .glass-button, [role="button"], button, input, select, textarea {
      touch-action: manipulation;
    }
  }

  /* Desktop hover states */
  @media (hover: hover) and (pointer: fine) {
    .hover\:scale-\[1\.015\]:hover {
      transform: scale(1.015);
    }

    .hover\:scale-\[1\.02\]:hover {
      transform: scale(1.02);
    }
  }

  /* Responsive Container Enhancements */
  @screen xs {
    .container-responsive {
      @apply px-4;
    }
  }

  @screen sm {
    .container-responsive {
      @apply px-6;
    }
  }

  @screen md {
    .container-responsive {
      @apply px-8;
    }
  }

  @screen lg {
    .container-responsive {
      @apply px-12 max-w-7xl;
    }
  }

  @screen xl {
    .container-responsive {
      @apply px-16;
    }
  }

  @screen 2xl {
    .container-responsive {
      @apply px-20 max-w-8xl;
    }
  }

  @screen 3xl {
    .container-responsive {
      @apply px-24 max-w-9xl;
    }
  }

  /* Enhanced Form Spacing with Better Balance */
  .form-spacing {
    @apply space-y-6 sm:space-y-8 lg:space-y-10;    /* Enhanced: more generous spacing */
  }

  /* Consistent spacing for form elements */
  .form-element-spacing {
    @apply mb-6;                                      /* Enhanced: consistent bottom margin */
  }

  .form-group-spacing {
    @apply space-y-4;                                 /* Enhanced: consistent group spacing */
  }

  /* Button group spacing */
  .button-group-spacing {
    @apply space-x-3 space-y-3 flex flex-wrap;       /* Enhanced: consistent button spacing */
  }

  /* Icon and text spacing */
  .icon-text-spacing {
    @apply space-x-3;                                 /* Enhanced: consistent icon-text spacing */
  }

  /* Responsive Text Scaling */
  .text-responsive-title {
    @apply text-title3 sm:text-title2 lg:text-title1;
  }

  .text-responsive-heading {
    @apply text-headline sm:text-title3 lg:text-title2;
  }

  .text-responsive-body {
    @apply text-subhead sm:text-callout lg:text-body;
  }

  /* Modern Element Proportions */
  .element-proportions-sm {
    @apply h-10 lg:h-12;
  }

  .element-proportions-md {
    @apply h-12 lg:h-14;
  }

  .element-proportions-lg {
    @apply h-14 lg:h-16;
  }

  /* 8px Grid Spacing Utilities */
  .space-grid-2 { @apply space-y-2 space-x-2; }
  .space-grid-4 { @apply space-y-4 space-x-4; }
  .space-grid-6 { @apply space-y-6 space-x-6; }
  .space-grid-8 { @apply space-y-8 space-x-8; }

  .gap-grid-2 { @apply gap-2; }
  .gap-grid-4 { @apply gap-4; }
  .gap-grid-6 { @apply gap-6; }
  .gap-grid-8 { @apply gap-8; }

  /* Unified Typography Scale - Larger Sizes for Better Readability */
  .text-micro { font-size: 16px; line-height: 1.4; font-weight: 500; }        /* Minimum readable size */
  .text-caption { font-size: 18px; line-height: 1.36; font-weight: 500; }     /* Enhanced from 14px */
  .text-caption-2 { font-size: 18px; line-height: 1.33; font-weight: 500; }   /* Unified with caption */
  .text-footnote { font-size: 18px; line-height: 1.38; font-weight: 400; }    /* Unified size */
  .text-subhead { font-size: 20px; line-height: 1.33; font-weight: 400; }     /* Standard body size */
  .text-callout { font-size: 22px; line-height: 1.25; font-weight: 400; }     /* Enhanced readability */
  .text-body { font-size: 20px; line-height: 1.41; font-weight: 400; }        /* Standard body text */
  .text-headline { font-size: 24px; line-height: 1.41; font-weight: 600; }    /* Clear hierarchy */
  .text-title-3 { font-size: 28px; line-height: 1.25; font-weight: 600; }     /* Enhanced titles */
  .text-title-2 { font-size: 32px; line-height: 1.27; font-weight: 700; }     /* Prominent titles */
  .text-title-1 { font-size: 36px; line-height: 1.21; font-weight: 700; }     /* Major headings */
  .text-large-title { font-size: 42px; line-height: 1.18; font-weight: 700; } /* Hero text */

  /* Responsive Typography */
  .text-responsive-xs { @apply text-caption md:text-footnote; }
  .text-responsive-sm { @apply text-footnote md:text-subhead; }
  .text-responsive-base { @apply text-subhead md:text-callout; }
  .text-responsive-lg { @apply text-callout md:text-body; }
  .text-responsive-xl { @apply text-body md:text-headline; }
  .text-responsive-2xl { @apply text-headline md:text-title-3; }
  .text-responsive-3xl { @apply text-title-3 md:text-title-2; }
  .text-responsive-4xl { @apply text-title-2 md:text-title-1; }

  /* Layout Grid Utilities */
  .layout-grid {
    @apply grid grid-cols-1 gap-4;
  }

  @screen sm {
    .layout-grid {
      @apply gap-6;
    }
  }

  @screen md {
    .layout-grid {
      @apply grid-cols-12 gap-6;
    }
  }

  @screen lg {
    .layout-grid {
      @apply gap-8;
    }
  }

  /* Enhanced 8px Grid System for Form Builder */
  .grid-responsive {
    @apply grid gap-4;
    grid-template-columns: repeat(var(--grid-columns-mobile), 1fr);
  }

  @screen md {
    .grid-responsive {
      @apply gap-6;
      grid-template-columns: repeat(var(--grid-columns-tablet), 1fr);
    }
  }

  @screen lg {
    .grid-responsive {
      @apply gap-8;
      grid-template-columns: repeat(var(--grid-columns-desktop), 1fr);
    }
  }

  @screen xl {
    .grid-responsive {
      @apply gap-10;
      grid-template-columns: repeat(var(--grid-columns-wide), 1fr);
    }
  }

  /* Form Builder Specific Layouts - Enhanced for better preview space */
  .form-builder-grid {
    @apply grid grid-cols-1 gap-6 lg:grid-cols-12 lg:gap-8;
  }

  .form-builder-sidebar {
    @apply lg:col-span-4 xl:col-span-3;
  }

  .form-builder-content {
    @apply lg:col-span-7 xl:col-span-8;
  }

  .form-builder-preview {
    @apply lg:col-span-5 xl:col-span-4;
  }

  .form-builder-editor {
    @apply lg:col-span-6;
  }

  /* Card Component */
  .card {
    @apply bg-card text-card-foreground rounded-lg border shadow-elevation-low;
  }

  .card-header {
    @apply p-4 md:p-6;
  }

  .card-content {
    @apply p-4 md:p-6 pt-0;
  }

  .card-footer {
    @apply p-4 md:p-6 pt-0;
  }

  /* Enhanced Button Components with Touch Targets and Clear Hover States */
  .btn {
    @apply inline-flex items-center justify-center whitespace-nowrap rounded-xl transition-all duration-200 ease-out focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 touch-target-min;
    font-size: clamp(14px, calc(16px * var(--font-scale)), 18px);  /* Limit font scaling */
    font-weight: 500;                      /* Enhanced: medium weight for better readability */
  }

  .btn-primary {
    @apply btn bg-primary text-primary-foreground;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  .btn-primary:hover {
    @apply bg-primary/90;
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(249, 115, 22, 0.4);
    filter: brightness(1.1);
  }

  .btn-primary:active {
    transform: translateY(0);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  .btn-secondary {
    @apply btn bg-secondary text-secondary-foreground border border-input;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }

  .btn-secondary:hover {
    @apply bg-secondary/80;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    border-color: hsl(var(--border) / 0.6);
    filter: brightness(1.05);
  }

  .btn-secondary:active {
    transform: translateY(0);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
  }

  .btn-destructive {
    @apply btn bg-destructive text-destructive-foreground;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  .btn-destructive:hover {
    @apply bg-destructive/90;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
  }

  .btn-destructive:active {
    transform: translateY(0);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  .btn-sm {
    @apply px-4 py-3 text-sm font-medium;    /* Enhanced: larger padding */
    min-height: 44px;                       /* Enhanced: touch target */
  }

  .btn-md {
    @apply px-5 py-3 text-base font-medium;  /* Enhanced: larger padding and text */
    min-height: 48px;                       /* Enhanced: touch target */
  }

  .btn-lg {
    @apply px-8 py-4 text-lg font-medium touch-target-comfortable;
    min-height: 52px;                       /* Enhanced: touch target */
  }

  /* Enhanced Form Controls with Clear Hover States */
  .form-input {
    @apply flex w-full rounded-xl border border-input bg-background ring-offset-background file:border-0 file:bg-transparent file:font-medium placeholder:text-muted-foreground focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 touch-target-min;
    padding: 12px 16px;                     /* Enhanced: more padding */
    font-size: 14px;                        /* Reduced font size to 14px */
    line-height: 1.5;
    min-height: 48px;                       /* Enhanced: larger touch target */
    transition: all 200ms ease-out;
  }

  .form-input:hover {
    border-color: hsl(var(--border) / 0.8);
    background-color: hsl(var(--muted) / 0.3);
  }

  .form-input:focus {
    border-color: hsl(var(--primary) / 0.5);
    box-shadow: 0 0 0 2px hsl(var(--primary) / 0.2);
  }

  /* Responsive Tables */
  .table-responsive {
    @apply w-full overflow-auto;
  }

  @screen md {
    .table-responsive {
      @apply overflow-visible;
    }
  }

  /* Mobile-First Navigation */
  .nav-mobile {
    @apply fixed inset-x-0 top-0 z-50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b border-border;
  }

  @screen md {
    .nav-mobile {
      @apply static bg-transparent backdrop-blur-none supports-[backdrop-filter]:bg-transparent border-b-0;
    }
  }
}

@layer utilities {
  /* Enhanced Orange Neon Effects System */
  .orange-neon-focus {
    position: relative;
    border: none !important; /* Remove double borders */
    backdrop-filter: blur(8px);
    transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
    /* Remove box-shadow to prevent square glow */
  }

  .orange-neon-focus::before {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: inherit !important;
    background: linear-gradient(135deg,
      rgba(249, 115, 22, 0.3) 0%,
      rgba(249, 115, 22, 0.1) 50%,
      rgba(249, 115, 22, 0.2) 100%);
    z-index: -1;
    filter: blur(8px);
    opacity: 0.9;
  }

  .orange-neon-hover {
    position: relative;
    border: none !important;
    backdrop-filter: blur(12px);
    transform: translateY(-1px);
    transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
    /* Remove box-shadow to prevent square glow */
  }

  .orange-neon-hover::before {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: inherit !important;
    background: linear-gradient(135deg,
      rgba(249, 115, 22, 0.4) 0%,
      rgba(249, 115, 22, 0.2) 50%,
      rgba(249, 115, 22, 0.3) 100%);
    z-index: -1;
    filter: blur(10px);
    opacity: 0.8;
  }

  .orange-neon-active {
    box-shadow:
      0 0 30px rgba(249, 115, 22, 0.6),
      0 0 60px rgba(249, 115, 22, 0.4),
      inset 0 0 30px rgba(249, 115, 22, 0.2);
    border: none !important;
    backdrop-filter: blur(16px);
    transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  .orange-neon-permanent {
    box-shadow:
      0 0 15px rgba(249, 115, 22, 0.3),
      0 0 30px rgba(249, 115, 22, 0.15),
      inset 0 0 15px rgba(249, 115, 22, 0.08);
    border: none !important;
    backdrop-filter: blur(8px);
  }

  /* Legacy Orange Neon Effects - Updated */
  .shadow-orange-neon {
    @apply orange-neon-focus;
  }

  .focus\:shadow-orange-neon:focus {
    @apply orange-neon-focus;
  }

  .hover\:shadow-orange-neon:hover {
    @apply orange-neon-hover;
  }

  /* Factory Button Orange Neon Effects - Border Radius Fix */
  .factory-button-rounded.hover-orange-neon:hover::before,
  .factory-button-rounded.focus-orange-neon:focus::before {
    border-radius: 0.5rem !important;
  }

  .factory-button-rounded.blur-edge::before,
  .factory-button-rounded.blur-edge-intense::before {
    border-radius: 0.5rem !important;
  }

  /* Override any existing orange neon effects for factory buttons */
  .factory-button-rounded::before {
    border-radius: 0.5rem !important;
  }

  /* Ensure all pseudo-elements respect the button's border radius */
  .factory-button-rounded:hover::before,
  .factory-button-rounded:focus::before {
    border-radius: 0.5rem !important;
  }

  /* Enhanced Date/Time Input Styling */
  input[type="date"]::-webkit-calendar-picker-indicator,
  input[type="time"]::-webkit-calendar-picker-indicator,
  input[type="datetime-local"]::-webkit-calendar-picker-indicator {
    opacity: 0;
    position: absolute;
    right: 0;
    width: 100%;
    height: 100%;
    cursor: pointer;
  }

  /* Date/Time Input Focus Enhancement */
  input[type="date"]:focus,
  input[type="time"]:focus,
  input[type="datetime-local"]:focus {
    background: rgba(var(--background), 0.7);
  }

  /* Date/Time Picker Popup Styling */
  input[type="date"]::-webkit-datetime-edit,
  input[type="time"]::-webkit-datetime-edit,
  input[type="datetime-local"]::-webkit-datetime-edit {
    padding: 0;
    font-size: 0.875rem;
  }

  input[type="date"]::-webkit-datetime-edit-fields-wrapper,
  input[type="time"]::-webkit-datetime-edit-fields-wrapper,
  input[type="datetime-local"]::-webkit-datetime-edit-fields-wrapper {
    padding: 0;
  }

  input[type="date"]::-webkit-datetime-edit-text,
  input[type="time"]::-webkit-datetime-edit-text,
  input[type="datetime-local"]::-webkit-datetime-edit-text {
    color: hsl(var(--muted-foreground) / 0.8) !important;
    padding: 0 2px;
  }

  input[type="date"]::-webkit-datetime-edit-month-field,
  input[type="date"]::-webkit-datetime-edit-day-field,
  input[type="date"]::-webkit-datetime-edit-year-field,
  input[type="time"]::-webkit-datetime-edit-hour-field,
  input[type="time"]::-webkit-datetime-edit-minute-field,
  input[type="datetime-local"]::-webkit-datetime-edit-month-field,
  input[type="datetime-local"]::-webkit-datetime-edit-day-field,
  input[type="datetime-local"]::-webkit-datetime-edit-year-field,
  input[type="datetime-local"]::-webkit-datetime-edit-hour-field,
  input[type="datetime-local"]::-webkit-datetime-edit-minute-field {
    padding: 2px;
    border-radius: 4px;
    transition: all 0.2s ease;
  }

  input[type="date"]:focus::-webkit-datetime-edit-month-field:focus,
  input[type="date"]:focus::-webkit-datetime-edit-day-field:focus,
  input[type="date"]:focus::-webkit-datetime-edit-year-field:focus,
  input[type="time"]:focus::-webkit-datetime-edit-hour-field:focus,
  input[type="time"]:focus::-webkit-datetime-edit-minute-field:focus,
  input[type="datetime-local"]:focus::-webkit-datetime-edit-month-field:focus,
  input[type="datetime-local"]:focus::-webkit-datetime-edit-day-field:focus,
  input[type="datetime-local"]:focus::-webkit-datetime-edit-year-field:focus,
  input[type="datetime-local"]:focus::-webkit-datetime-edit-hour-field:focus,
  input[type="datetime-local"]:focus::-webkit-datetime-edit-minute-field:focus {
    background: rgba(249, 115, 22, 0.1);
    color: rgb(249, 115, 22);
  }

  /* Custom Slider Styling */
  .slider-orange::-webkit-slider-thumb {
    appearance: none;
    width: 20px;
    height: 20px;
    background: linear-gradient(135deg, #f97316, #ea580c);
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(249, 115, 22, 0.4);
    border: 2px solid #ffffff;
    transition: all 0.2s ease;
  }

  .slider-orange::-webkit-slider-thumb:hover {
    transform: scale(1.1);
    box-shadow: 0 4px 12px rgba(249, 115, 22, 0.6);
  }

  .slider-orange::-moz-range-thumb {
    width: 20px;
    height: 20px;
    background: linear-gradient(135deg, #f97316, #ea580c);
    border-radius: 50%;
    cursor: pointer;
    border: 2px solid #ffffff;
    box-shadow: 0 2px 6px rgba(249, 115, 22, 0.4);
    transition: all 0.2s ease;
  }

  .slider-orange::-moz-range-thumb:hover {
    transform: scale(1.1);
    box-shadow: 0 4px 12px rgba(249, 115, 22, 0.6);
  }

  /* Custom scrollbar */
  .scrollbar-thin::-webkit-scrollbar {
    width: 4px;
    height: 4px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: hsl(var(--muted));
    border-radius: 4px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: hsl(var(--muted-foreground));
    border-radius: 4px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--border));
  }

  /* Date, time, and datetime input styling for dark theme */
  input[type="date"],
  input[type="time"],
  input[type="datetime-local"] {
    color-scheme: light;
  }

  .dark input[type="date"],
  .dark input[type="time"],
  .dark input[type="datetime-local"] {
    color-scheme: dark;
  }

  /* Ensure date input calendar icon is properly themed */
  input[type="date"]::-webkit-calendar-picker-indicator,
  input[type="time"]::-webkit-calendar-picker-indicator,
  input[type="datetime-local"]::-webkit-calendar-picker-indicator {
    filter: brightness(1);
    cursor: pointer;
  }

  .dark input[type="date"]::-webkit-calendar-picker-indicator,
  .dark input[type="time"]::-webkit-calendar-picker-indicator,
  .dark input[type="datetime-local"]::-webkit-calendar-picker-indicator {
    filter: brightness(0) saturate(100%) invert(1);
  }

  /* Focus ring utilities */
  .focus-ring {
    @apply focus:outline-none;
  }

  /* Override all default browser focus/hover rings */
  button:focus,
  button:focus-visible,
  button:hover,
  a:focus,
  a:focus-visible,
  a:hover,
  .btn:focus,
  .btn:focus-visible,
  .btn:hover,
  [role="button"]:focus,
  [role="button"]:focus-visible,
  [role="button"]:hover,
  /* Icon specific selectors */
  .icon:focus,
  .icon:focus-visible,
  .icon:hover,
  [class*="icon"]:focus,
  [class*="icon"]:focus-visible,
  [class*="icon"]:hover,
  .icon-glass:focus,
  .icon-glass:focus-visible,
  .icon-glass:hover,
  /* Size variant selectors */
  [class*="size=\"icon\""]:focus,
  [class*="size=\"icon\""]:focus-visible,
  [class*="size=\"icon\""]:hover,
  /* Touch target selectors */
  .touch-target-comfortable:focus,
  .touch-target-comfortable:focus-visible,
  .touch-target-comfortable:hover {
    outline: none !important;
    box-shadow: none !important;
    border: none !important;
  }

  /* Specific override for WebKit focus rings */
  button::-moz-focus-inner,
  input::-moz-focus-inner {
    border: 0 !important;
    outline: none !important;
  }

  /* Universal override for all interactive elements */
  *:focus,
  *:focus-visible,
  *:hover,
  *[tabindex]:focus,
  *[tabindex]:focus-visible,
  *[tabindex]:hover {
    outline: none !important;
  }

  /* Override WebKit tap highlight */
  * {
    -webkit-tap-highlight-color: transparent !important;
    -webkit-touch-callout: none !important;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  /* Allow text selection for text elements */
  input,
  textarea,
  [contenteditable],
  .selectable-text {
    -webkit-user-select: text !important;
    -moz-user-select: text !important;
    -ms-user-select: text !important;
    user-select: text !important;
  }

  /* Preserve border-radius in all states for icon containers and interactive elements */
  .glass-interactive,
  .glass-interactive:hover,
  .glass-interactive:focus,
  .glass-interactive:active,
  .icon-glass,
  .icon-glass:hover,
  .icon-glass:focus,
  .icon-glass:active,
  .btn-glass,
  .btn-glass:hover,
  .btn-glass:focus,
  .btn-glass:active,
  button[class*="rounded"],
  button[class*="rounded"]:hover,
  button[class*="rounded"]:focus,
  button[class*="rounded"]:active,
  [class*="icon"][class*="rounded"],
  [class*="icon"][class*="rounded"]:hover,
  [class*="icon"][class*="rounded"]:focus,
  [class*="icon"][class*="rounded"]:active {
    border-radius: inherit !important;
  }

  /* Ensure all GlassButton variants preserve rounded corners */
  .rounded-xl,
  .rounded-xl:hover,
  .rounded-xl:focus,
  .rounded-xl:active,
  .rounded-lg,
  .rounded-lg:hover,
  .rounded-lg:focus,
  .rounded-lg:active,
  .rounded-md,
  .rounded-md:hover,
  .rounded-md:focus,
  .rounded-md:active {
    border-radius: inherit !important;
  }

  /* Animation utilities */
  .animate-fade-in {
    animation: fadeIn 0.3s ease-in-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* Mobile-specific utilities */
  @screen max-sm {
    .mobile-stack {
      @apply flex-col space-y-4 space-x-0;
    }

    .mobile-full {
      @apply w-full;
    }
  }

  /* Standardized Form Label System */

  /* Primary Form Labels (Input Labels) */
  .form-label {
    @apply text-base font-medium text-foreground mb-2 block;
    font-size: 16px !important;          /* Enhanced: minimum readable size */
    font-weight: 600 !important;         /* Enhanced: bolder for better visibility */
    color: #ffffff !important;           /* CRITICAL FIX: Force white text */
    line-height: 1.4 !important;        /* Enhanced: better line spacing */
    margin-bottom: 8px !important;      /* Enhanced: consistent spacing */
  }

  .form-label-required {
    @apply text-base font-medium text-foreground mb-2 block after:content-['*'] after:text-red-500 after:ml-1;
    font-size: 16px !important;          /* Enhanced: minimum readable size */
    font-weight: 600 !important;         /* Enhanced: bolder for better visibility */
    color: #ffffff !important;           /* CRITICAL FIX: Force white text */
    line-height: 1.4 !important;        /* Enhanced: better line spacing */
    margin-bottom: 8px !important;      /* Enhanced: consistent spacing */
  }

  /* Secondary Form Labels (Helper Text) */
  .form-label-helper {
    @apply text-base text-muted-foreground mt-1 block;
    font-size: 16px !important;          /* Enhanced: minimum readable size */
    font-weight: 500 !important;         /* Enhanced: medium weight for better visibility */
    color: #cccccc !important;           /* CRITICAL FIX: Light gray with proper contrast */
    line-height: 1.4 !important;        /* Enhanced: better line spacing */
  }

  .form-label-description {
    @apply text-base text-muted-foreground mt-1 block leading-relaxed;
    font-size: 16px !important;          /* Enhanced: minimum readable size */
    font-weight: 500 !important;         /* Enhanced: medium weight for better visibility */
    color: #cccccc !important;           /* CRITICAL FIX: Light gray with proper contrast */
    line-height: 1.4 !important;        /* Enhanced: better line spacing */
  }

  /* Group Labels (Section Labels) */
  .form-label-group {
    @apply text-base font-semibold text-foreground mb-3 block;
    font-size: 16px !important;          /* Enhanced: minimum readable size */
    color: hsl(var(--foreground)) !important; /* Fix: ensure high contrast */
  }

  .form-label-section {
    @apply text-lg font-semibold text-foreground mb-4 block;
    font-size: 18px !important;          /* Enhanced: section headers are larger */
    color: hsl(var(--foreground)) !important; /* Fix: ensure high contrast */
  }

  /* Inline Labels (Radio/Checkbox) */
  .form-label-inline {
    @apply text-base font-normal text-foreground ml-2 cursor-pointer;
    font-size: 16px !important;          /* Enhanced: minimum readable size */
    color: hsl(var(--foreground)) !important; /* Fix: ensure high contrast */
  }

  .form-label-radio {
    @apply flex items-center gap-2 cursor-pointer text-base font-normal text-foreground;
    font-size: 16px !important;          /* Enhanced: minimum readable size */
    color: hsl(var(--foreground)) !important; /* Fix: ensure high contrast */
  }

  .form-label-checkbox {
    @apply flex items-center gap-2 cursor-pointer text-base font-normal text-foreground;
    font-size: 16px !important;          /* Enhanced: minimum readable size */
    color: hsl(var(--foreground)) !important; /* Fix: ensure high contrast */
  }

  /* Field Configuration Labels */
  .form-label-config {
    @apply text-base font-medium text-muted-foreground mb-1 block;
    font-size: 16px !important;          /* Enhanced: minimum readable size */
    color: hsl(var(--muted-foreground)) !important; /* Fix: ensure proper contrast */
  }

  /* Form Title Labels */
  .form-label-title {
    @apply text-xl font-semibold text-foreground mb-2 block;
    font-size: 20px !important;          /* Enhanced: larger title text */
    color: hsl(var(--foreground)) !important; /* Fix: ensure high contrast */
  }

  /* Error and Validation Labels */
  .form-label-error {
    @apply text-base text-destructive mt-1 block;
    font-size: 16px !important;          /* Enhanced: minimum readable size */
    color: hsl(var(--destructive)) !important; /* Fix: ensure proper error contrast */
  }

  .form-label-success {
    @apply text-base text-success mt-1 block;
    font-size: 16px !important;          /* Enhanced: minimum readable size */
    color: hsl(var(--success)) !important; /* Fix: ensure proper success contrast */
  }

  /* Screen Reader Only Labels */
  .form-label-sr-only {
    @apply sr-only;
  }

  /* Responsive Label Adjustments */
  @media (max-width: 640px) {
    .form-label, .form-label-required {
      @apply text-base mb-2;
    }

    .form-label-title {
      @apply text-xl mb-3;
    }

    .form-label-inline, .form-label-radio, .form-label-checkbox {
      @apply text-base;
    }
  }

  /* Enhanced Modern Glass Design System */

  /* Enhanced Glass Container Base - Dark Background Focus */
  .glass-container {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 16px;
    position: relative;
  }

  .dark .glass-container {
    background: rgba(0, 0, 0, 0.5);       /* Darker background for better contrast */
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: hsl(var(--foreground));        /* Ensure light text */
  }

  /* Glass Variants */
  .glass-elevated {
    background: rgba(255, 255, 255, 0.15);
    backdrop-filter: blur(24px) saturate(200%);
    border: 1px solid rgba(255, 255, 255, 0.25);
    box-shadow:
      0 8px 32px rgba(0, 0, 0, 0.1),
      0 4px 16px rgba(0, 0, 0, 0.05),
      inset 0 1px 0 rgba(255, 255, 255, 0.3);
  }

  .dark .glass-elevated {
    background: rgba(0, 0, 0, 0.6);       /* Darker background for contrast */
    border: 1px solid rgba(255, 255, 255, 0.25); /* More visible borders */
    box-shadow:
      0 8px 32px rgba(0, 0, 0, 0.5),
      0 4px 16px rgba(0, 0, 0, 0.25),
      inset 0 1px 0 rgba(255, 255, 255, 0.15);
    color: hsl(var(--foreground));        /* Ensure light text */
  }

  .glass-floating {
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(28px) saturate(220%);
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow:
      0 12px 48px rgba(0, 0, 0, 0.15),
      0 6px 24px rgba(0, 0, 0, 0.08),
      inset 0 1px 0 rgba(255, 255, 255, 0.4);
  }

  .dark .glass-floating {
    background: rgba(0, 0, 0, 0.7);       /* Darkest background for maximum contrast */
    border: 1px solid rgba(255, 255, 255, 0.3); /* Most visible borders */
    box-shadow:
      0 12px 48px rgba(0, 0, 0, 0.6),
      0 6px 24px rgba(0, 0, 0, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.2);
    color: hsl(var(--foreground));        /* Ensure light text */
  }

  .glass-primary {
    background: rgba(249, 115, 22, 0.15);
    backdrop-filter: blur(20px) saturate(180%);
    border: 1px solid rgba(249, 115, 22, 0.3);
  }

  .dark .glass-primary {
    background: rgba(249, 115, 22, 0.2);
    border: 1px solid rgba(249, 115, 22, 0.4);
  }

  /* Glass Navigation */
  .glass-nav {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(32px) saturate(180%);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .dark .glass-nav {
    background: rgba(0, 0, 0, 0.8);       /* Darker nav for better contrast */
    border-bottom: 1px solid rgba(255, 255, 255, 0.2); /* More visible border */
    color: hsl(var(--foreground));        /* Ensure light text */
  }

  /* Glass Buttons */
  .btn-glass {
    @apply relative overflow-hidden rounded-xl font-medium transition-all duration-200 ease-out;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(12px) saturate(120%);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: rgb(var(--foreground));
    font-size: clamp(14px, calc(16px * var(--font-scale)), 18px);  /* Limit font scaling */
  }

  .btn-glass:hover {
    background: rgba(249, 115, 22, 0.1) !important; /* Orange hint on hover */
    border: 1px solid rgba(249, 115, 22, 0.4) !important; /* Orange border on hover */
    color: hsl(var(--primary)) !important; /* Orange text on hover */
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(249, 115, 22, 0.2);
  }

  .btn-glass:active {
    transform: translateY(0);
    background: rgba(249, 115, 22, 0.15);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  .dark .btn-glass {
    background: rgba(255, 255, 255, 0.08);  /* More visible button background */
    border: 1px solid rgba(255, 255, 255, 0.15); /* More visible border */
    color: hsl(var(--foreground)) !important; /* Ensure light text */
    font-size: clamp(14px, calc(16px * var(--font-scale)), 18px) !important; /* Limit font scaling */
  }

  .dark .btn-glass:hover {
    background: rgba(249, 115, 22, 0.15) !important; /* Orange background on hover */
    border: 1px solid rgba(249, 115, 22, 0.5) !important; /* Orange border on hover */
    color: hsl(var(--primary)) !important;   /* Orange text on hover */
    box-shadow: 0 6px 20px rgba(249, 115, 22, 0.3);
  }

  .btn-glass-primary {
    @apply rounded-xl;
    background: rgba(249, 115, 22, 0.9);
    backdrop-filter: blur(12px) saturate(120%);
    border: none;
    color: white;
  }

  .btn-glass-primary:hover {
    background: rgba(249, 115, 22, 1);
    box-shadow:
      0 4px 16px rgba(249, 115, 22, 0.4),
      0 8px 32px rgba(249, 115, 22, 0.2);
    transform: translateY(-1px);
  }

  .btn-glass-primary:active {
    background: rgba(234, 88, 12, 1);
    transform: translateY(0);
  }

  .icon-glass {
    @apply w-10 h-10 flex items-center justify-center transition-all duration-200 rounded-xl;
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(8px);
    border: none;
  }

  .icon-glass:hover {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    transform: scale(1.05);
  }

  .dark .icon-glass {
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.08);
  }

  .dark .icon-glass:hover {
    background: rgba(255, 255, 255, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.15);
  }

  /* Enhanced Glass Inputs with Orange Neon Effects */
  .input-glass {
    @apply w-full px-4 py-3 transition-all duration-300 ease-out;
    @apply text-foreground placeholder:text-muted-foreground/80;
    @apply focus:outline-none;
    background: rgba(30, 30, 30, 0.8) !important;      /* Semi-transparent background */
    backdrop-filter: blur(8px) saturate(120%);
    border: none !important;                            /* Remove all borders */
    border-radius: 0.75rem !important;                 /* Force rounded corners always */
    color: #ffffff !important;                          /* White text */
    font-size: 14px !important;                        /* Reduced font size to 14px */
    font-weight: 500 !important;                       /* Better visibility */
    min-height: 48px !important;                       /* Larger touch target */
    line-height: 1.4 !important;                       /* Better line spacing */
    min-width: 100% !important;                        /* Force full width */
    box-sizing: border-box !important;                 /* Proper box model */
    color-scheme: light;

    /* Glass morphism edge effect */
    box-shadow: inset 0 1px 0 0 rgba(255, 255, 255, 0.1);
  }

  .input-glass:hover {
    background: rgba(42, 42, 42, 0.9) !important;      /* Lighter background on hover */
    color: #ff6600 !important;                          /* Orange text on hover */
    transform: translateY(-1px);
    border-radius: 0.75rem !important;                  /* Force rounded corners on hover */
    /* Apply orange neon hover effect */
    box-shadow:
      0 0 20px rgba(249, 115, 22, 0.5),
      0 0 40px rgba(249, 115, 22, 0.3),
      inset 0 0 20px rgba(249, 115, 22, 0.15),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.15) !important;
  }

  .input-glass:focus {
    background: rgba(42, 42, 42, 0.9) !important;      /* Lighter background on focus */
    color: #ffffff !important;                          /* White text on focus */
    transform: translateY(-1px);
    outline: none !important;
    border-radius: 0.75rem !important;                  /* Force rounded corners on focus */
    /* Apply orange neon focus effect */
    box-shadow:
      0 0 25px rgba(249, 115, 22, 0.6),
      0 0 50px rgba(249, 115, 22, 0.4),
      inset 0 0 25px rgba(249, 115, 22, 0.2),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.2) !important;
  }

  .dark .input-glass {
    background: rgba(30, 30, 30, 0.8) !important;         /* Semi-transparent background in dark mode */
    backdrop-filter: blur(8px) saturate(120%);
    border: none !important;                                /* Remove border */
    color: #ffffff !important;                              /* White text in dark mode */
    font-size: 14px !important;                            /* Reduced font size to 14px */
    font-weight: 500 !important;                           /* Enhanced: better visibility */
    color-scheme: dark;
    box-shadow: inset 0 1px 0 0 rgba(255, 255, 255, 0.1);
  }

  .dark .input-glass:hover {
    background: rgba(42, 42, 42, 0.9) !important;        /* Lighter background on hover */
    color: #ff6600 !important;                            /* Orange text on hover */
    border-radius: 0.75rem !important;                    /* Force rounded corners on hover */
    /* Apply orange neon hover effect */
    box-shadow:
      0 0 20px rgba(249, 115, 22, 0.5),
      0 0 40px rgba(249, 115, 22, 0.3),
      inset 0 0 20px rgba(249, 115, 22, 0.15),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.15) !important;
  }

  .dark .input-glass:focus {
    background: rgba(42, 42, 42, 0.9) !important;        /* Lighter background on focus */
    color: #ffffff !important;                            /* White text on focus */
    transform: translateY(-1px);
    outline: none !important;
    border-radius: 0.75rem !important;                    /* Force rounded corners on focus */
    /* Apply orange neon focus effect */
    box-shadow:
      0 0 25px rgba(249, 115, 22, 0.6),
      0 0 50px rgba(249, 115, 22, 0.4),
      inset 0 0 25px rgba(249, 115, 22, 0.2),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.2) !important;
  }

  /* Fix dropdown options for dark theme */
  select.input-glass option {
    background: hsl(var(--background));
    color: hsl(var(--foreground));
  }

  .dark select.input-glass option {
    background: hsl(var(--background));
    color: hsl(var(--foreground));
  }

  /* Enhanced select styling with orange neon effects */
  select.input-glass {
    background-image: none !important;   /* Remove all background images */
    background-repeat: no-repeat;
    background-position: right 1rem center;
    background-size: 1rem;
    background: rgba(30, 30, 30, 0.8) !important;      /* Semi-transparent background */
    backdrop-filter: blur(8px) saturate(120%);
    appearance: none !important;
    -webkit-appearance: none !important;
    -moz-appearance: none !important;
    font-size: 14px !important;                        /* Reduced font size to 14px */
    font-weight: 500 !important;                       /* Medium weight for better visibility */
    line-height: 1.5;
    min-height: 52px;                                  /* Larger touch target */
    padding: 12px 48px 12px 16px;                     /* More padding, room for arrow */
    border: none !important;                           /* Remove all borders */
    color: #ffffff !important;                         /* White text */
    border-radius: 8px !important;                    /* Rounded corners */
    box-shadow: inset 0 1px 0 0 rgba(255, 255, 255, 0.1);
  }

  .dark select.input-glass {
    background-image: none !important;                     /* No background images in dark mode */
    background: rgba(30, 30, 30, 0.8) !important;         /* Semi-transparent background */
    backdrop-filter: blur(8px) saturate(120%);
    color: #ffffff !important;                             /* White text in dark mode */
    border: none !important;                               /* Remove all borders */
    box-shadow: inset 0 1px 0 0 rgba(255, 255, 255, 0.1);
  }

  /* Enhanced select hover and focus states with orange neon */
  select.input-glass:hover {
    background: rgba(42, 42, 42, 0.9) !important;         /* Lighter background on hover */
    color: #ff6600 !important;                             /* Orange text on hover */
    /* Apply orange neon hover effect */
    box-shadow:
      0 0 20px rgba(249, 115, 22, 0.5),
      0 0 40px rgba(249, 115, 22, 0.3),
      inset 0 0 20px rgba(249, 115, 22, 0.15),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.15) !important;
  }

  select.input-glass:focus {
    background: rgba(42, 42, 42, 0.9) !important;         /* Lighter background on focus */
    outline: none !important;
    /* Apply orange neon focus effect */
    box-shadow:
      0 0 25px rgba(249, 115, 22, 0.6),
      0 0 50px rgba(249, 115, 22, 0.4),
      inset 0 0 25px rgba(249, 115, 22, 0.2),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.2) !important;
  }

  /* Enhanced dropdown options with glass morphism theme */
  select.input-glass option {
    padding: 8px 12px !important;
    font-size: 14px !important;
    font-weight: 400 !important;
    line-height: 1.4;
    min-height: 36px;
    background-color: rgba(10, 10, 10, 0.98) !important; /* Darker black background */
    color: #ffffff !important; /* White text for contrast */
    border: none !important;
    backdrop-filter: blur(8px) !important;
    transition: all 0.2s ease !important;
  }

  .dark select.input-glass option {
    background-color: rgba(10, 10, 10, 0.98) !important; /* Darker black background */
    color: #ffffff !important; /* White text for contrast */
    font-weight: 400 !important;
  }

  /* Light mode dropdown options */
  :not(.dark) select.input-glass option {
    background-color: rgba(30, 30, 30, 0.95) !important; /* Dark background even in light mode */
    color: #ffffff !important; /* White text for readability */
  }

  select.input-glass option:hover,
  select.input-glass option:focus,
  select.input-glass option:active,
  select.input-glass option:checked,
  select.input-glass option[selected] {
    background-color: rgba(249, 115, 22, 0.8) !important; /* Orange glass hover */
    color: #ffffff !important; /* White text on orange background */
    transform: scale(1.02) !important; /* Subtle scale effect */
    box-shadow: 0 2px 8px rgba(249, 115, 22, 0.3) !important; /* Orange glow */
  }

  /* Additional styling for active/selected states */
  select.input-glass option:active,
  select.input-glass option[selected] {
    background-color: rgba(249, 115, 22, 0.9) !important; /* Stronger orange for selected */
    color: #ffffff !important;
    font-weight: 600 !important; /* Bold text for selected option */
  }

  /* Highlighted option during keyboard navigation */
  select.input-glass option[aria-selected="true"],
  select.input-glass option.highlighted {
    background-color: rgba(249, 115, 22, 0.7) !important; /* Orange highlight */
    color: #f97316 !important; /* Orange text color */
    font-weight: 500 !important;
    outline: 2px solid rgba(249, 115, 22, 0.5) !important;
    outline-offset: -2px !important;
  }

  /* Enhanced dropdown container with glass effects */
  select.input-glass {
    background: rgba(var(--card), 0.8) !important;
    backdrop-filter: blur(12px) saturate(120%) !important;
    border: 1px solid rgba(var(--border), 0.3) !important;
    box-shadow:
      0 4px 16px rgba(0, 0, 0, 0.1),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.1) !important;
  }

  /* Dark mode specific adjustments */
  .dark select.input-glass {
    background: rgba(30, 30, 30, 0.8) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
  }

  /* Ensure placeholder text is also 14px */
  .input-glass::placeholder,
  .input-glass::-webkit-input-placeholder,
  .input-glass::-moz-placeholder,
  .input-glass:-ms-input-placeholder {
    font-size: 14px !important;
  }

  select.input-glass::placeholder,
  select.input-glass::-webkit-input-placeholder {
    font-size: 14px !important;
  }

  /* Enhanced full-width layout for form fields */
  .glass-container .group,
  .form-builder .group,
  .glass-card .group {
    width: 100% !important;
    max-width: 100% !important;
  }

  .glass-container .relative,
  .form-builder .relative,
  .glass-card .relative {
    width: 100% !important;
  }

  /* Enhanced label synchronization with input hover/focus states - more specific targeting */
  /* Target specific group types to avoid global hover effects */
  .group-fieldtype:hover label,
  .group-fieldtype:focus-within label,
  .glass-input-group:hover label,
  .glass-input-group:focus-within label {
    color: hsl(var(--primary)) !important;
    font-weight: 600 !important;
    transform: translateY(-1px);
    transition: all 0.2s ease;
  }

  .group label {
    transition: all 0.2s ease !important;
    margin-bottom: 8px !important;
  }

  /* Enhanced form grid consistency */
  .form-builder .grid {
    width: 100% !important;
    gap: 1rem !important;
  }

  .form-builder .grid > * {
    width: 100% !important;
    min-width: 0 !important;
  }

  /* Focus Glass System */
  .focus-glass {
    @apply focus:outline-none;
  }

  /* Glass Animations */
  @keyframes glass-in {
    0% {
      opacity: 0;
      transform: translateY(4px) scale(0.98);
    }
    100% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  @keyframes glass-out {
    0% {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
    100% {
      opacity: 0;
      transform: translateY(-4px) scale(0.98);
    }
  }

  .animate-glass-in {
    animation: glass-in 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards;
  }

  .animate-glass-out {
    animation: glass-out 0.2s cubic-bezier(0.4, 0, 1, 1) forwards;
  }

  /* Minimal Text System */
  .minimal-text {
    transition: all 200ms ease-out;
  }

  .group:hover .minimal-text {
    opacity: 1 !important;
  }

  /* Modern Motion System */
  .motion-safe {
    @apply transition-all duration-300 ease-out;
  }

  .motion-scale {
    @apply hover:scale-[1.02] active:scale-[0.98] transition-transform duration-200 ease-out;
  }

  .motion-lift {
    @apply hover:shadow-lg hover:-translate-y-1 transition-all duration-200 ease-out;
  }

  .motion-bounce {
    @apply hover:scale-105 active:scale-95 transition-transform duration-150 ease-out;
  }

  /* Enhanced Tooltips */
  .tooltip-glass {
    @apply px-3 py-2 rounded-lg text-sm font-medium;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(12px) saturate(120%);
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
  }

  .dark .tooltip-glass {
    background: rgba(0, 0, 0, 0.9);       /* Dark background for dark theme */
    color: hsl(var(--foreground));        /* Light text for dark theme */
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
  }

  /* Screen Reader Only with proper positioning */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  /* Modern Object Proportions */
  .proportion-square { aspect-ratio: 1 / 1; }
  .proportion-video { aspect-ratio: 16 / 9; }
  .proportion-photo { aspect-ratio: 4 / 3; }
  .proportion-golden { aspect-ratio: 1.618 / 1; }
  .proportion-card { aspect-ratio: 3 / 2; }

  /* Enhanced Focus States */
  .focus-visible-glass {
    @apply focus-visible:outline-none;
  }

  /* Icon Size Utilities for Better Accessibility */
  .icon-xs { width: var(--icon-size-xs); height: var(--icon-size-xs); }
  .icon-sm { width: var(--icon-size-sm); height: var(--icon-size-sm); }
  .icon-md { width: var(--icon-size-md); height: var(--icon-size-md); }
  .icon-lg { width: var(--icon-size-lg); height: var(--icon-size-lg); }
  .icon-xl { width: var(--icon-size-xl); height: var(--icon-size-xl); }

  /* Enhanced Button + Icon Spacing Fix */
  .btn-with-icon {
    @apply inline-flex items-center justify-center gap-3;
  }

  .btn-with-icon .icon {
    @apply flex-shrink-0;
  }

  /* Dropdown and Button Spacing Improvements */
  .field-control-group {
    @apply flex items-center gap-4 flex-wrap;
  }

  .field-control-group > .btn {
    @apply flex-shrink-0;
  }

  .field-control-group > select,
  .field-control-group > .form-input {
    @apply flex-1 min-w-0;
  }

  /* Enhanced spacing for complex form layouts */
  .form-builder-spacing {
    @apply space-y-8;
  }

  .form-field-spacing {
    @apply mb-6;
  }

  .form-actions-spacing {
    @apply mt-8 pt-6 border-t border-border/50;
  }

  /* Enhanced Checkbox and Radio Button Styling */
  input[type="checkbox"], input[type="radio"] {
    width: 20px !important;               /* Enhanced: larger touch target */
    height: 20px !important;              /* Enhanced: larger touch target */
    accent-color: hsl(var(--primary)) !important; /* Orange accent color */
    border: 2px solid hsl(var(--border)) !important; /* Visible border */
    border-radius: 4px;
    cursor: pointer;
    transition: all 200ms ease-out;
  }

  input[type="radio"] {
    border-radius: 50%;                   /* Round radio buttons */
  }

  input[type="checkbox"]:hover, input[type="radio"]:hover {
    border-color: hsl(var(--primary)) !important; /* Orange border on hover */
    transform: scale(1.1);
    box-shadow: 0 0 0 2px rgba(249, 115, 22, 0.2);
  }

  input[type="checkbox"]:focus, input[type="radio"]:focus {
    outline: none;
    border-color: hsl(var(--primary)) !important; /* Orange border on focus */
    box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.3) !important; /* Enhanced focus ring */
    transform: scale(1.05);
  }

  input[type="checkbox"]:checked, input[type="radio"]:checked {
    background-color: hsl(var(--primary)) !important; /* Orange background when checked */
    border-color: hsl(var(--primary)) !important;
  }

  /* Enhanced Label Styling for Better Accessibility */
  label {
    font-size: 16px !important;          /* Enhanced: minimum readable size */
    font-weight: 600 !important;         /* Enhanced: bold for better visibility */
    color: #ffffff !important;           /* CRITICAL FIX: Force white text */
    cursor: pointer;
    transition: all 200ms ease-out;
    display: flex !important;            /* CRITICAL FIX: Better alignment */
    align-items: center !important;     /* CRITICAL FIX: Center alignment */
    gap: 8px !important;                 /* CRITICAL FIX: Consistent spacing */
    margin-bottom: 8px !important;      /* Enhanced: consistent bottom margin */
    line-height: 1.4 !important;        /* Enhanced: better line spacing */
  }

  label:hover {
    color: #ff6600 !important;          /* CRITICAL FIX: Orange text on hover */
  }

  /* Special styling for labels with checkboxes */
  label:has(input[type="checkbox"]),
  label:has(input[type="radio"]) {
    display: flex !important;
    align-items: center !important;
    gap: 8px !important;
    margin-bottom: 12px !important;
    font-size: 16px !important;
    font-weight: 500 !important;
    color: #ffffff !important;
  }

  /* Modern Scrollbars */
  .scrollbar-glass {
    scrollbar-width: thin;
    scrollbar-color: rgba(0, 0, 0, 0.2) transparent;
  }

  .scrollbar-glass::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .scrollbar-glass::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-glass::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 4px;
    backdrop-filter: blur(8px);
  }

  .scrollbar-glass::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.3);
  }

  .dark .scrollbar-glass {
    scrollbar-color: rgba(255, 255, 255, 0.2) transparent;
  }

  .dark .scrollbar-glass::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
  }

  .dark .scrollbar-glass::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.3);
  }

  /* Apply font scaling to headings */
  h1 {
    font-size: calc(32px * var(--font-scale)) !important;
    line-height: 1.5 !important;
    transform: none !important;
  }

  h2 {
    font-size: calc(24px * var(--font-scale)) !important;
    line-height: 1.5 !important;
    transform: none !important;
  }

  h3 {
    font-size: calc(18px * var(--font-scale)) !important;
    min-height: auto !important;
    line-height: 1.5 !important;
    transform: none !important;
    zoom: 1 !important;
  }

  .text-base {
    font-size: calc(16px * var(--font-scale)) !important;
    line-height: 1.5 !important;
    transform: none !important;
  }

  .text-lg {
    font-size: calc(18px * var(--font-scale)) !important;
    line-height: 1.5 !important;
    transform: none !important;
  }

  .text-sm {
    font-size: calc(14px * var(--font-scale)) !important;
    line-height: 1.5 !important;
    transform: none !important;
  }

  .text-xs {
    font-size: calc(12px * var(--font-scale)) !important;
    line-height: 1.4 !important;
    transform: none !important;
  }

  .text-2xs {
    font-size: calc(10px * var(--font-scale)) !important;
    line-height: 1.3 !important;
    transform: none !important;
  }

  /* Prevent text from being scaled down by transforms */
  .field-preview h3,
  .form-builder h3,
  .glass-card h3 {
    font-size: 16px !important;
    font-weight: 600 !important;
    color: #ffffff !important;
    transform: none !important;
    zoom: 1 !important;
    min-height: 24px !important;
  }

  /* Ensure form field titles are properly sized */
  .form-builder .field-editor h3,
  .form-builder .sub-form h3,
  .glass-container h3 {
    font-size: 16px !important;
    font-weight: 600 !important;
    line-height: 1.5 !important;
    min-height: 24px !important;
    transform: scale(1) !important;
    zoom: 1 !important;
  }

  /* =================================================================== */
  /* FORM CARD ANIMATION SYSTEM FIXES */
  /* =================================================================== */

  /* Form Card Container Fixes for Animations */
  .form-card-borderless {
    /* Critical: Allow animations to breathe without clipping */
    overflow: visible !important;
    position: relative;
    z-index: 1;

    /* Provide margin to prevent animation clipping */
    margin: 8px;
    padding: 0;

    /* Enable smooth transitions */
    transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
    transform-origin: center center;

    /* Ensure rounded corners are preserved */
    isolation: isolate;

    /* Force border-radius at this level too */
    border-radius: 24px !important;
    -webkit-border-radius: 24px !important;
    -moz-border-radius: 24px !important;
  }

  .form-card-borderless:hover {
    /* Raise z-index during hover for proper layering */
    z-index: 10 !important;

    /* Ensure container doesn't clip the glow effect */
    overflow: visible !important;
  }

  /* Form List Grid Container - Must allow overflow for animations */
  .form-list-grid-container {
    /* Critical overflow fix for form cards */
    overflow: visible !important;
    contain: none !important;

    /* Extra spacing to accommodate scale animations and glow effects */
    padding: 24px;
    margin: -16px;

    /* Ensure grid items can expand beyond their bounds */
    isolation: auto;

    /* Additional viewport fixes */
    position: relative;
    width: calc(100% + 32px);
    max-width: none;
  }

  .form-list-grid-container .grid {
    /* Critical: Grid must not constrain child animations */
    overflow: visible !important;

    /* Enhanced gaps to provide animation breathing room */
    gap: 1.5rem;

    /* Ensure grid doesn't clip scaled items */
    position: relative;
  }

  .form-list-grid-container .grid > * {
    /* Allow grid items to overflow their bounds for animations */
    overflow: visible !important;
    contain: none !important;

    /* Enable transform animations */
    transform-style: preserve-3d;
  }

  /* Orange Neon Glow Effect - Borderless Blur */
  .form-card-glow {
    position: relative;
    transition: all 400ms cubic-bezier(0.4, 0, 0.2, 1);
    border-radius: 24px !important;
    overflow: visible !important;
    border: none !important;

    /* Force rounded corners with webkit prefix */
    -webkit-border-radius: 24px !important;
    -moz-border-radius: 24px !important;

    /* Ensure proper stacking and space for animations */
    z-index: 1;
    isolation: isolate;
    contain: none;

    /* Provide margin for glow effect */
    margin: 8px;
  }

  .form-card-glow:hover {
    /* Critical: Raise z-index for proper layering */
    z-index: 20 !important;
    position: relative;
    isolation: isolate;

    /* Pure orange glow - no borders, only blur */
    box-shadow:
      /* Soft inner orange glow */
      0 0 20px rgba(249, 115, 22, 0.6),
      /* Medium orange glow */
      0 0 40px rgba(249, 115, 22, 0.4),
      /* Extended soft glow */
      0 0 60px rgba(249, 115, 22, 0.3),
      /* Far reaching glow */
      0 0 100px rgba(249, 115, 22, 0.2),
      /* Depth shadow */
      0 12px 40px -8px rgba(0, 0, 0, 0.3);

    /* Subtle background tint without borders */
    background: linear-gradient(
      135deg,
      rgba(249, 115, 22, 0.03) 0%,
      rgba(249, 115, 22, 0.02) 50%,
      rgba(249, 115, 22, 0.03) 100%
    );
    backdrop-filter: blur(8px) saturate(120%) brightness(102%);

    /* Smooth transform with lift */
    transform: scale(1.02) translateY(-4px);

    /* Preserve border radius - force 24px explicitly */
    border-radius: 24px !important;

    /* Force visibility */
    overflow: visible !important;
  }

  /* Fix for border radius clipping during scale animations */
  .form-card-animate {
    /* Preserve rounded corners during all animations */
    border-radius: 24px !important;
    overflow: visible !important;

    /* Smooth transform origin */
    transform-origin: center center;

    /* Enable GPU acceleration */
    will-change: transform, box-shadow;
    transform: translateZ(0);
    backface-visibility: hidden;
  }

  .form-card-animate:hover {
    /* Maintain border radius during hover scale */
    border-radius: 24px !important;
    overflow: visible !important;
  }

  /* Container padding fixes to provide animation space */
  .form-cards-container {
    /* Provide sufficient padding for scale animations */
    padding: 20px;
    margin: -12px;

    /* Allow children to overflow */
    overflow: visible !important;
    contain: none !important;
  }

  /* StaggerTransition component fixes */
  .stagger-container {
    /* Allow animated children to overflow */
    overflow: visible !important;
    contain: none !important;

    /* Provide space for animations */
    padding: 12px;
    margin: -12px;
  }

  .stagger-container > * {
    /* Each item can animate freely */
    overflow: visible !important;
    contain: none !important;

    /* Enable smooth animations */
    transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* SwipeableGlassContainer fixes */
  .swipeable-container {
    /* Allow smooth animations */
    overflow: visible !important;
    position: relative;
    z-index: 1;

    /* Provide animation space */
    margin: 4px;
  }

  .swipeable-container:hover {
    /* Layer properly during hover */
    z-index: 5 !important;
    overflow: visible !important;
  }

  /* TouchRipple component fixes */
  .touch-ripple-container {
    /* Ensure ripple effects are visible */
    overflow: visible !important;
    position: relative;

    /* Smooth interactions */
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Motion.div container fixes for Framer Motion */
  .motion-container {
    /* Allow Framer Motion animations to work properly */
    overflow: visible !important;
    contain: none !important;

    /* Provide transform space */
    position: relative;
    z-index: 1;
  }

  .motion-container:hover {
    /* Proper layering during animated hover */
    z-index: 10 !important;
    overflow: visible !important;
  }

  /* Grid system adjustments for animations */
  .animated-grid {
    /* Grid that supports child animations */
    overflow: visible !important;
    contain: none !important;

    /* Enhanced spacing for animations */
    gap: 1.5rem;
    padding: 16px;
    margin: -8px;
  }

  .animated-grid-item {
    /* Individual grid items that can animate */
    overflow: visible !important;
    contain: none !important;

    /* Animation support */
    transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
    transform-origin: center;

    /* Force border-radius on motion container */
    border-radius: 24px !important;
    -webkit-border-radius: 24px !important;
    -moz-border-radius: 24px !important;
  }

  /* Performance optimization for animations */
  .animation-optimized {
    /* GPU acceleration */
    will-change: transform, box-shadow, opacity;
    transform: translateZ(0);
    backface-visibility: hidden;

    /* Smooth rendering */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Debug helper - can be removed in production */
  .debug-animation-bounds {
    outline: 1px dashed rgba(255, 0, 0, 0.3);
    background: rgba(255, 0, 0, 0.05);
  }

  /* Additional button and div focus overrides */
  div[title]:focus,
  div[title]:focus-visible,
  div[title]:hover,
  div[title]:active,
  div[onclick]:focus,
  div[onclick]:focus-visible,
  div[onclick]:hover,
  div[onclick]:active,
  *:focus,
  *:focus-visible,
  *:active,
  *:focus:not(:focus-visible) {
    outline: none !important;
    box-shadow: none !important;
  }

  /* Prevent any webkit focus rings */
  * {
    -webkit-tap-highlight-color: transparent !important;
    -webkit-focus-ring-color: transparent !important;
  }

  /* Override focus for any interactive element */
  [tabindex]:focus,
  [tabindex]:focus-visible,
  [tabindex]:active {
    outline: none !important;
    box-shadow: none !important;
    border: none !important;
  }

  /* Force remove all focus/active effects on buttons and divs */
  button,
  div[onclick],
  div[title],
  [role="button"] {
    outline: none !important;
    box-shadow: none !important;
    border: none !important;
    background: transparent !important;
  }

  button:focus,
  button:focus-visible,
  button:active,
  div[onclick]:focus,
  div[onclick]:focus-visible,
  div[onclick]:active,
  div[title]:focus,
  div[title]:focus-visible,
  div[title]:active,
  [role="button"]:focus,
  [role="button"]:focus-visible,
  [role="button"]:active {
    outline: none !important;
    box-shadow: none !important;
    border: none !important;
    background: transparent !important;
  }

  /* Blur Edge Effects System - Fixed for Rounded Corners */
  .blur-edge {
    position: relative;
    overflow: visible;
    border-radius: 24px !important;
  }

  /* Special handling for input-glass with blur-edge */
  .input-glass.blur-edge {
    border-radius: 0.75rem !important;
  }

  .input-glass.blur-edge::before {
    border-radius: 0.75rem !important;
  }

  .blur-edge::before {
    content: '';
    position: absolute;
    inset: 0;
    background: transparent;
    backdrop-filter: blur(12px);
    border-radius: 24px !important;
    z-index: -1;
  }

  .blur-edge-intense {
    position: relative;
    overflow: visible;
    border-radius: 24px !important;
  }

  .input-glass.blur-edge-intense {
    border-radius: 0.75rem !important;
  }

  .input-glass.blur-edge-intense::before {
    border-radius: 0.75rem !important;
  }

  /* Ensure input-glass maintains rounded corners in all states */
  .input-glass:hover.blur-edge,
  .input-glass:focus.blur-edge,
  .input-glass:hover.blur-edge-intense,
  .input-glass:focus.blur-edge-intense {
    border-radius: 0.75rem !important;
  }

  .input-glass:hover.blur-edge::before,
  .input-glass:focus.blur-edge::before,
  .input-glass:hover.blur-edge-intense::before,
  .input-glass:focus.blur-edge-intense::before {
    border-radius: 0.75rem !important;
  }

  .blur-edge-intense::before {
    content: '';
    position: absolute;
    inset: 0;
    background: transparent;
    backdrop-filter: blur(16px) saturate(120%);
    border-radius: 24px !important;
    z-index: -1;
  }

  /* Enhanced Interactive Element Utilities */
  .focus-orange-neon:focus {
    @apply orange-neon-focus;
  }

  .hover-orange-neon:hover {
    @apply orange-neon-hover;
  }

  .active-orange-neon.active,
  .active-orange-neon:active {
    @apply orange-neon-active;
  }

  /* Glass Container Utilities */
  .glass-container {
    @apply blur-edge rounded-2xl;
    background: rgba(var(--card), 0.6);
    backdrop-filter: blur(12px);
    border: 1px solid rgba(var(--border), 0.3);
    box-shadow: inset 0 1px 0 0 rgba(255, 255, 255, 0.1);
  }

  /* Fix layered container rounded corners inheritance */
  .glass-container > div,
  .glass-container > *:first-child,
  .glass-card > div,
  .glass-card > *:first-child,
  [class*="glass-container"] > div,
  [class*="glass-card"] > div,
  [class*="rounded"] > div:first-child,
  [class*="rounded"] > *:first-child {
    border-radius: 24px !important;
  }

  /* Ensure background elements inside rounded containers inherit shape */
  .glass-container [class*="bg-"],
  .glass-card [class*="bg-"],
  [class*="rounded"] [class*="bg-"]:first-child {
    border-radius: 24px !important;
    overflow: hidden;
  }

  /* Force background transparency for nested containers that might show square edges */
  .glass-container [class*="bg-card"],
  .glass-container [class*="bg-background"],
  .glass-container [class*="bg-muted"],
  .glass-card [class*="bg-card"],
  .glass-card [class*="bg-background"],
  .glass-card [class*="bg-muted"],
  [class*="rounded"] [class*="bg-card"],
  [class*="rounded"] [class*="bg-background"],
  [class*="rounded"] [class*="bg-muted"] {
    background: transparent !important;
    border-radius: inherit;
  }

  /* Alternative: make nested backgrounds semi-transparent with rounded corners */
  .glass-container .p-6,
  .glass-container .p-4,
  .glass-container .p-3,
  .glass-card .p-6,
  .glass-card .p-4,
  .glass-card .p-3 {
    border-radius: 24px !important;
    background: rgba(var(--background), 0.1);
  }

  /* Comprehensive rounded corners fix for glass containers */
  .glass-container,
  .glass-card {
    overflow: hidden;
  }

  /* Fix specific problematic background elements inside glass containers */
  .glass-container [class*="bg-card"]:first-child,
  .glass-container [class*="bg-background"]:first-child,
  .glass-container [class*="bg-muted"]:first-child,
  .glass-card [class*="bg-card"]:first-child,
  .glass-card [class*="bg-background"]:first-child,
  .glass-card [class*="bg-muted"]:first-child {
    border-radius: 24px !important;
    background: transparent !important;
  }

  /* Ensure content areas inside glass containers have proper rounded corners */
  .glass-container > div:first-child,
  .glass-card > div:first-child {
    border-radius: 24px !important;
  }

  /* Remove duplicate backdrop-blur from nested elements */
  .glass-container [class*="backdrop-blur"],
  .glass-card [class*="backdrop-blur"] {
    backdrop-filter: none !important;
  }

  .glass-interactive {
    @apply glass-container blur-edge transition-all duration-300;
    will-change: transform, box-shadow;
    transform: translateZ(0);
  }

  .glass-interactive:hover {
    @apply blur-edge-intense;
    transform: translateY(-2px) translateZ(0);
  }

  /* Responsive adjustments for animations */
  @media (max-width: 640px) {
    .form-list-grid-container {
      padding: 12px;
      margin: -6px;
    }

    .form-card-borderless {
      margin: 4px;
    }

    .animated-grid {
      gap: 1rem;
      padding: 12px;
      margin: -6px;
    }

    /* Reduce blur effects on mobile for performance */
    .blur-edge::before,
    .blur-edge-intense::before {
      backdrop-filter: blur(8px);
    }
  }

  @media (max-width: 480px) {
    .form-list-grid-container {
      padding: 8px;
      margin: -4px;
    }

    .form-card-borderless {
      margin: 2px;
    }

    .animated-grid {
      gap: 0.75rem;
      padding: 8px;
      margin: -4px;
    }

    /* Further reduce blur effects on small mobile */
    .blur-edge::before,
    .blur-edge-intense::before {
      backdrop-filter: blur(6px);
    }
  }

  /* Additional Container Fixes for Form List Page */
  .container-responsive,
  .form-list-container,
  main {
    overflow: visible !important;
  }

  /* Fix for any Tailwind container that might clip animations */
  .container,
  .mx-auto {
    overflow: visible !important;
  }

  /* Ensure FormManagementApp main wrapper allows glow effects */
  .min-h-screen {
    overflow-x: visible !important;
  }

  /* FormListPage specific fixes */
  .w-full {
    overflow: visible !important;
  }

  /* Global animation container fix for form cards */
  .form-card-glow,
  .form-card-glow * {
    contain: none !important;
  }

  /* Text clamp utilities */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-4 {
    display: -webkit-box;
    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Typography Scale Variables */
  :root {
    /* Base font sizes optimized for better hierarchy */
    --font-size-title: 20px;          /* Primary headlines - increased for better hierarchy */
    --font-size-standard: 16px;       /* Body text, inputs, descriptions */
    --font-size-detail: 12px;         /* Tags, stats, metadata - slightly increased for readability */

    /* Font size scale for settings - adjusted for better proportions */
    --font-scale-small: 0.85;         /* 85% - better scaling */
    --font-scale-medium: 1.0;         /* 100% - current Form List */
    --font-scale-large: 1.15;         /* 115% - improved scaling */
  }

  /* Form Card Typography Standards */
  .form-card-title {
    @apply font-bold leading-tight text-foreground;
    font-size: calc(var(--font-size-title) * var(--font-scale)) !important;
  }

  /* Override generic h3 rules with higher specificity */
  .glass-card h3.form-card-title,
  .glass-container h3.form-card-title {
    font-size: calc(var(--font-size-title) * var(--font-scale)) !important;
  }

  .form-card-description {
    @apply text-muted-foreground/80 leading-relaxed;
    font-size: calc(var(--font-size-standard) * var(--font-scale));
  }

  /* Override generic p rules with higher specificity */
  .glass-card p.form-card-description,
  .glass-container p.form-card-description {
    font-size: calc(var(--font-size-standard) * var(--font-scale)) !important;
  }

  .form-card-stats {
    @apply text-muted-foreground/60;
  }

  .form-card-tag {
    @apply font-medium px-2 py-0.5 rounded-full;
    font-size: calc(var(--font-size-detail) * var(--font-scale));
  }

  /* Standard input size */
  .form-input-standard {
    font-size: calc(var(--font-size-standard) * var(--font-scale));
  }

  .form-card-button {
    @apply text-sm font-medium px-4 py-2;
  }

  /* Settings Page Typography */
  .settings-title {
    @apply font-bold text-foreground;
    font-size: calc(var(--font-size-title) * var(--font-scale)) !important;
  }

  .settings-subtitle {
    @apply font-medium text-foreground;
    font-size: calc(var(--font-size-standard) * var(--font-scale));
  }

  .settings-description {
    @apply text-muted-foreground;
    font-size: calc(var(--font-size-standard) * var(--font-scale));
  }

  .settings-detail {
    @apply text-muted-foreground;
    font-size: calc(var(--font-size-detail) * var(--font-scale));
  }

  .settings-button-text {
    @apply font-medium;
    font-size: calc(var(--font-size-detail) * var(--font-scale));
  }

  /* Enhanced Red Neon Effects System for Validation Errors */
  .red-neon-focus {
    position: relative;
    border: none !important; /* Remove double borders */
    backdrop-filter: blur(8px);
    transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
    /* Remove box-shadow to prevent square glow */
  }

  .red-neon-focus::before {
    content: '';
    position: absolute;
    inset: -4px;
    background: linear-gradient(
      135deg,
      rgba(239, 68, 68, 0.4) 0%,
      rgba(220, 38, 38, 0.3) 25%,
      rgba(239, 68, 68, 0.4) 50%,
      rgba(220, 38, 38, 0.3) 75%,
      rgba(239, 68, 68, 0.4) 100%
    );
    border-radius: inherit;
    z-index: -1;
    opacity: 0.9;
  }

  .red-neon-hover {
    position: relative;
    border: none !important;
    backdrop-filter: blur(12px);
    transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
    transform: translateY(-1px);
    /* Remove box-shadow to prevent square glow */
  }

  .red-neon-hover::before {
    content: '';
    position: absolute;
    inset: -4px;
    background: linear-gradient(
      135deg,
      rgba(239, 68, 68, 0.5) 0%,
      rgba(220, 38, 38, 0.4) 25%,
      rgba(239, 68, 68, 0.5) 50%,
      rgba(220, 38, 38, 0.4) 75%,
      rgba(239, 68, 68, 0.5) 100%
    );
    border-radius: inherit;
    z-index: -1;
    opacity: 0.8;
  }

  .red-neon-active {
    box-shadow:
      0 0 30px rgba(239, 68, 68, 0.6),
      0 0 60px rgba(239, 68, 68, 0.4),
      inset 0 0 20px rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.3);
    backdrop-filter: blur(16px);
    transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  .red-neon-permanent {
    box-shadow:
      0 0 15px rgba(239, 68, 68, 0.3),
      0 0 30px rgba(239, 68, 68, 0.15),
      inset 0 0 15px rgba(239, 68, 68, 0.05);
    border: 1px solid rgba(239, 68, 68, 0.2);
    backdrop-filter: blur(12px);
  }

  /* Red Neon Interactive Element Utilities */
  .focus-red-neon:focus {
    @apply red-neon-focus;
  }

  .hover-red-neon:hover {
    @apply red-neon-hover;
  }

  .active-red-neon.active,
  .active-red-neon:active {
    @apply red-neon-active;
  }

  /* Field Error Container with Red Neon Effect */
  .field-error-container {
    @apply red-neon-permanent;
  }

  .field-error-container.focus-within {
    @apply red-neon-active;
  }
}